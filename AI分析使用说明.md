# AIæ™ºèƒ½åˆ†æåŠŸèƒ½ä½¿ç”¨è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

äº§å“è¯„è®ºåˆ†æå·¥å…·ç°å·²æ”¯æŒAIæ™ºèƒ½åˆ†æåŠŸèƒ½ï¼Œç»“åˆå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æä¾›æ›´å‡†ç¡®ã€æ›´æ™ºèƒ½çš„æƒ…æ„Ÿåˆ†æå’Œå…³é”®è¯æå–ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### 1. å¤šç§åˆ†ææ¨¡å¼

- **autoï¼ˆè‡ªåŠ¨æ¨¡å¼ï¼‰**: ä¼˜å…ˆä½¿ç”¨AIåˆ†æï¼Œå¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ°MLæ¨¡å‹
- **aiï¼ˆçº¯AIæ¨¡å¼ï¼‰**: ä»…ä½¿ç”¨AIåˆ†æï¼Œæä¾›æœ€å‡†ç¡®çš„ç»“æœ
- **mlï¼ˆçº¯MLæ¨¡å¼ï¼‰**: ä»…ä½¿ç”¨ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œé€Ÿåº¦æœ€å¿«
- **hybridï¼ˆæ··åˆæ¨¡å¼ï¼‰**: AIå’ŒMLç»“åˆï¼Œå–é•¿è¡¥çŸ­

### 2. æ”¯æŒçš„AIæœåŠ¡

- **DeepSeek** (æ¨èï¼Œæ€§ä»·æ¯”é«˜ï¼Œä¸­æ–‡æ”¯æŒå¥½)
- **OpenAI GPT** (å¯é€‰)
- **Anthropic Claude** (å¯é€‰)

**ä¼˜å…ˆçº§é¡ºåº**: DeepSeek > OpenAI > Anthropic

### 3. æ™ºèƒ½ç‰¹æ€§

- âœ… è‡ªåŠ¨é™çº§ï¼šAIå¤±è´¥æ—¶è‡ªåŠ¨ä½¿ç”¨MLæ¨¡å‹
- âœ… ç½®ä¿¡åº¦è¯„ä¼°ï¼šæ··åˆæ¨¡å¼æ ¹æ®ç½®ä¿¡åº¦é€‰æ‹©æœ€ä½³ç»“æœ
- âœ… æ‰¹é‡ä¼˜åŒ–ï¼šå¤§é‡è¯„è®ºæ—¶æ™ºèƒ½åˆ†é…AIå’ŒMLèµ„æº
- âœ… è¯¦ç»†åˆ†æï¼šAIåˆ†ææä¾›åˆ†æåŸå› è¯´æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd backend
pip install -r requirements.txt
```

### 2. é…ç½®APIå¯†é’¥

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆæˆ–è®¾ç½®ç¯å¢ƒå˜é‡ï¼‰ï¼š

```bash
# DeepSeeké…ç½®ï¼ˆæ¨èï¼Œæ€§ä»·æ¯”é«˜ï¼‰
export DEEPSEEK_API_KEY=your_deepseek_api_key_here
export DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
export DEEPSEEK_MODEL=deepseek-chat

# æˆ–ä½¿ç”¨OpenAI
export OPENAI_API_KEY=your_openai_api_key_here

# æˆ–ä½¿ç”¨Anthropic
export ANTHROPIC_API_KEY=your_anthropic_api_key_here

# è®¾ç½®åˆ†ææ¨¡å¼ï¼ˆå¯é€‰ï¼‰
export ANALYSIS_MODE=auto
```

æˆ–åˆ›å»º `backend/.env` æ–‡ä»¶ï¼š

```env
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
ANALYSIS_MODE=auto
```

### 3. å¯åŠ¨æœåŠ¡

```bash
cd backend
python3 app.py
```

## ğŸ“¡ APIä½¿ç”¨

### å•æ¡è¯„è®ºåˆ†æ

**è¯·æ±‚**:
```json
POST /api/analyze
{
  "text": "è¿™ä¸ªå•†å“è´¨é‡å¾ˆå¥½ï¼Œéå¸¸æ»¡æ„ï¼",
  "analysis_mode": "auto"  // å¯é€‰: auto, ai, ml, hybrid
}
```

**å“åº”**:
```json
{
  "text": "è¿™ä¸ªå•†å“è´¨é‡å¾ˆå¥½ï¼Œéå¸¸æ»¡æ„ï¼",
  "sentiment": {
    "sentiment": "positive",
    "confidence": 0.95,
    "probabilities": {
      "positive": 0.95,
      "negative": 0.03,
      "neutral": 0.02
    },
    "method": "ai_openai",
    "keywords": ["è´¨é‡", "å¾ˆå¥½", "æ»¡æ„"]
  },
  "keywords": [
    {"word": "è´¨é‡", "weight": 0.9},
    {"word": "å¾ˆå¥½", "weight": 0.8}
  ],
    "analysis_info": {
    "method": "ai_deepseek",  // æˆ– "ai_openai", "ai_anthropic"
    "ai_enabled": true,
    "mode": "auto"
  },
  "analysis_reason": "è¯„è®ºæ˜ç¡®è¡¨è¾¾äº†æ­£é¢æƒ…æ„Ÿï¼Œä½¿ç”¨äº†'å¾ˆå¥½'ã€'æ»¡æ„'ç­‰ç§¯æè¯æ±‡"
}
```

### æ‰¹é‡è¯„è®ºåˆ†æ

**è¯·æ±‚**:
```json
POST /api/analyze-batch
{
  "comments": [
    {"text": "è¯„è®º1"},
    {"text": "è¯„è®º2"}
  ],
  "analysis_mode": "hybrid"
}
```

**å“åº”**:
```json
{
  "results": [...],
  "statistics": {...},
  "analysis_info": {
    "mode": "hybrid",
    "ai_enabled": true,
    "ai_analysis_count": 5,
    "ml_analysis_count": 15,
    "total_comments": 20
  }
}
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `DEEPSEEK_API_KEY` | DeepSeek APIå¯†é’¥ | - |
| `DEEPSEEK_BASE_URL` | DeepSeek APIåœ°å€ | `https://api.deepseek.com/v1` |
| `DEEPSEEK_MODEL` | DeepSeekæ¨¡å‹åç§° | `deepseek-chat` |
| `OPENAI_API_KEY` | OpenAI APIå¯†é’¥ | - |
| `OPENAI_BASE_URL` | OpenAI APIåœ°å€ | `https://api.openai.com/v1` |
| `ANTHROPIC_API_KEY` | Anthropic APIå¯†é’¥ | - |
| `ANALYSIS_MODE` | é»˜è®¤åˆ†ææ¨¡å¼ | `auto` |

### åˆ†ææ¨¡å¼å¯¹æ¯”

| æ¨¡å¼ | å‡†ç¡®æ€§ | é€Ÿåº¦ | æˆæœ¬ | é€‚ç”¨åœºæ™¯ |
|------|--------|------|------|----------|
| **auto** | â­â­â­â­ | â­â­â­ | â­â­ | æ—¥å¸¸ä½¿ç”¨ï¼ˆæ¨èï¼‰ |
| **ai** | â­â­â­â­â­ | â­â­ | â­â­â­ | éœ€è¦æœ€é«˜å‡†ç¡®æ€§ |
| **ml** | â­â­â­ | â­â­â­â­â­ | â­ | å¿«é€Ÿåˆ†æï¼Œæˆæœ¬æ•æ„Ÿ |
| **hybrid** | â­â­â­â­â­ | â­â­â­ | â­â­â­ | éœ€è¦æœ€ä½³ç»“æœ |

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### 1. å•æ¡è¯„è®ºåˆ†æ

- **é«˜ä»·å€¼è¯„è®º**: ä½¿ç”¨ `ai` æ¨¡å¼ï¼Œè·å¾—æœ€å‡†ç¡®çš„åˆ†æ
- **å¿«é€Ÿåˆ†æ**: ä½¿ç”¨ `ml` æ¨¡å¼ï¼Œå“åº”æœ€å¿«
- **å¹³è¡¡é€‰æ‹©**: ä½¿ç”¨ `auto` æ¨¡å¼ï¼ˆæ¨èï¼‰

### 2. æ‰¹é‡è¯„è®ºåˆ†æ

- **å°‘é‡è¯„è®ºï¼ˆ<10æ¡ï¼‰**: å¯ä»¥ä½¿ç”¨ `ai` æ¨¡å¼
- **å¤§é‡è¯„è®ºï¼ˆ>10æ¡ï¼‰**: å»ºè®®ä½¿ç”¨ `hybrid` æˆ– `auto` æ¨¡å¼
- **æˆæœ¬æ•æ„Ÿ**: ä½¿ç”¨ `ml` æ¨¡å¼

### 3. æ··åˆæ¨¡å¼å·¥ä½œåŸç†

æ··åˆæ¨¡å¼ä¼šï¼š
1. ä¼˜å…ˆä½¿ç”¨AIåˆ†æ
2. å¦‚æœAIç½®ä¿¡åº¦ < 0.7ï¼ŒåŒæ—¶ä½¿ç”¨MLæ¨¡å‹
3. æ¯”è¾ƒä¸¤è€…ç½®ä¿¡åº¦ï¼Œé€‰æ‹©æ›´é«˜çš„ç»“æœ
4. æä¾›è¯¦ç»†çš„åˆ†æåŸå› ï¼ˆAIç‰¹æœ‰ï¼‰

## ğŸ¨ å‰ç«¯é›†æˆ

å‰ç«¯å¯ä»¥æ·»åŠ åˆ†ææ¨¡å¼é€‰æ‹©å™¨ï¼š

```javascript
// åœ¨CommentAnalyzerç»„ä»¶ä¸­æ·»åŠ 
const [analysisMode, setAnalysisMode] = useState('auto');

const handleAnalyze = async () => {
  const response = await axios.post(`${API_BASE_URL}/analyze`, {
    text: text.trim(),
    analysis_mode: analysisMode  // æ·»åŠ åˆ†ææ¨¡å¼å‚æ•°
  });
  // ...
};
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **APIå¯†é’¥å®‰å…¨**: 
   - ä¸è¦å°†APIå¯†é’¥æäº¤åˆ°ä»£ç ä»“åº“
   - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶
   - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡

2. **æˆæœ¬æ§åˆ¶**:
   - AIåˆ†æä¼šäº§ç”ŸAPIè°ƒç”¨è´¹ç”¨
   - æ‰¹é‡åˆ†ææ—¶å»ºè®®ä½¿ç”¨ `auto` æˆ– `hybrid` æ¨¡å¼
   - ç›‘æ§APIä½¿ç”¨é‡

3. **æ€§èƒ½è€ƒè™‘**:
   - AIåˆ†æå“åº”æ—¶é—´è¾ƒé•¿ï¼ˆ1-3ç§’ï¼‰
   - å¤§é‡è¯„è®ºæ—¶å»ºè®®ä½¿ç”¨æ··åˆæ¨¡å¼
   - MLæ¨¡å‹å“åº”é€Ÿåº¦æ›´å¿«ï¼ˆ<100msï¼‰

4. **é™çº§ç­–ç•¥**:
   - å¦‚æœAIæœåŠ¡ä¸å¯ç”¨ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨MLæ¨¡å‹
   - ç¡®ä¿MLæ¨¡å‹å§‹ç»ˆå¯ç”¨ä½œä¸ºå¤‡ç”¨

## ğŸ” æ•…éšœæ’æŸ¥

### AIåˆ†æä¸å·¥ä½œ

1. **æ£€æŸ¥APIå¯†é’¥**:
   ```bash
   echo $OPENAI_API_KEY
   ```

2. **æ£€æŸ¥å¥åº·çŠ¶æ€**:
   ```bash
   curl http://localhost:8080/api/health
   ```

3. **æŸ¥çœ‹é…ç½®**:
   ```bash
   curl http://localhost:8080/api/config
   ```

### æ€§èƒ½é—®é¢˜

- å¦‚æœAIåˆ†æå¤ªæ…¢ï¼Œè€ƒè™‘ä½¿ç”¨ `ml` æ¨¡å¼
- æ‰¹é‡åˆ†ææ—¶ä½¿ç”¨ `hybrid` æ¨¡å¼ï¼Œè‡ªåŠ¨ä¼˜åŒ–æ€§èƒ½
- æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒAPIæœåŠ¡çŠ¶æ€

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | MLæ¨¡å‹ | AIåˆ†æ |
|------|--------|--------|
| å“åº”æ—¶é—´ | <100ms | 1-3s |
| å‡†ç¡®ç‡ | ~85% | ~95% |
| æˆæœ¬ | å…è´¹ | æŒ‰è°ƒç”¨æ”¶è´¹ |
| å¯è§£é‡Šæ€§ | ä½ | é«˜ï¼ˆæä¾›åŸå› ï¼‰ |

## ğŸ¯ æœ€ä½³å®è·µ

1. **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨ `ml` æ¨¡å¼ï¼Œå¿«é€Ÿè¿­ä»£
2. **æµ‹è¯•ç¯å¢ƒ**: ä½¿ç”¨ `hybrid` æ¨¡å¼ï¼ŒéªŒè¯å‡†ç¡®æ€§
3. **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨ `auto` æ¨¡å¼ï¼Œå¹³è¡¡æ€§èƒ½å’Œå‡†ç¡®æ€§
4. **å…³é”®è¯„è®º**: ä½¿ç”¨ `ai` æ¨¡å¼ï¼Œç¡®ä¿å‡†ç¡®æ€§

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹ `backend/å®ç°åŸç†è¯´æ˜.md` äº†è§£æ›´å¤šæŠ€æœ¯ç»†èŠ‚ã€‚

